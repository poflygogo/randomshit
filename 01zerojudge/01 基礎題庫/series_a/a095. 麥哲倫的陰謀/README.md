簡單來說，如果有兩頂以上的紅帽子，那麼大家第一天都不敢出去。
那到了第二天，因為第一天沒人敢出去，大家都會知道至少有兩頂紅帽子。
如果只看到一頂帽子的人就會知道自己是紅帽而出獄。(也就是說紅帽只有兩頂)
那如果第二天也沒人敢出獄，第三天大家就知道昨天每個人都至少看到了兩頂紅帽子。
也就是說，大家就能確定紅帽至少有三頂，以此類推。

所以有M頂紅帽，到了第M天就會知道至少有M頂紅帽。
所以只看到M-1頂紅帽的人(也就是自己戴著一頂紅帽的人)就可以出獄。
到了隔天，看到紅帽出獄的白帽們就敢出獄了。

所以如果M=N(大家都是紅帽)，大家第M天就會一起出去。
如果M!=N，白帽就要等到M+1天才能出獄。

by Jasper Lin 2023-10-05
https://zerojudge.tw/ShowThread?postid=32854&reply=0
