# itertools.accumulate

用於對可迭代對象進行累積運算。它可以高效地生成一個新的迭代器，其中每個元素都是原始可迭代對象中對應元素與前一個元素（或初始值）進行指定運算後的結果。

## 語法
```py
itertools.accumulate(iterable, func=operator.add, *, initial=None)
```
- iterable: 可迭代對象，如列表、元組等。
- func: 二元運算函數，用於計算累積值。默認是operator.add，即加法。
- initial: 可選的初始值。如果提供，則累積從該值開始，並且輸出結果比輸入迭代器多一個元素。

最後會返回一個可迭代物件，需要透過`list()`, `tuple()`等方式轉換成其他可用的類型

## 原理
accumulate函數會依次處理可迭代對象中的每個元素：
- 初始化： 如果提供了initial值，則將其作為第一個累積值。否則，使用可迭代對象的第一個元素作為初始值。
- 迭代計算： 對每個元素，將其與前一個累積值應用func函數，得到新的累積值。
- 生成新元素： 將新的累積值添加到輸出迭代器中。

## 常見用途
实现各种累积运算。在处理数值序列、统计计算等场景中，accumulate能大大简化代码，提高效率

- 求前缀和： 这是accumulate最常见的用法，通过将func设置为加法，可以快速计算出列表中每个元素之前所有元素的和。

- 自定义累积运算： 可以通过自定义func来实现各种累积运算，比如乘积、最大值、最小值等。

- 滑动窗口求和： 结合其他工具，可以实现滑动窗口求和等操作。

## 注意事項
- accumulate返回的是一个迭代器，需要使用list等函数将其转换为列表才能查看结果。
- 如果func不是结合律的，那么累积结果的顺序会影响最终结果。